"use strict";(self["webpackChunkmy_meituan"]=self["webpackChunkmy_meituan"]||[]).push([[71],{1968:function(t,e,n){n.r(e),n.d(e,{default:function(){return kt}});var a=n(2558),i=(n(1958),n(2042),n(5904)),o=(n(368),n(6742),n(2939),n(1452),n(2191),n(1404)),s=n(3396),c=n(610),d=n(2220),l=n(5323),r=n(5291),u=n(253),m=n(6014),v=n(3649),g=n(3068);const[p,f]=(0,c["do"])("action-bar-icon"),h=(0,d.l7)({},m.g2,{dot:Boolean,text:String,icon:String,color:String,badge:l.Or,iconClass:l.Vg,badgeProps:Object,iconPrefix:String});var b=(0,s.aZ)({name:p,props:h,setup(t,{slots:e}){const n=(0,m.yj)();(0,u.NB)(r.FO);const a=()=>{const{dot:n,badge:a,icon:i,color:o,iconClass:c,badgeProps:d,iconPrefix:l}=t;return e.icon?(0,s.Wm)(g.Ct,(0,s.dG)({dot:n,class:f("icon"),content:a},d),{default:e.icon}):(0,s.Wm)(v.JO,{tag:"div",dot:n,name:i,badge:a,color:o,class:[f("icon"),c],badgeProps:d,classPrefix:l},null)};return()=>(0,s.Wm)("div",{role:"button",class:f(),tabindex:0,onClick:n},[a(),e.default?e.default():t.text])}});const x=(0,o.n)(b);var I=n(2727),k=(n(3533),n(234)),C=(n(4780),n(8074)),y=n(7139);const A=t=>((0,s.dD)("data-v-3e2b519f"),t=t(),(0,s.Cn)(),t),_={class:"storeDetails"},w={class:"content"},W=A((()=>(0,s._)("div",{class:"img"},null,-1))),D={class:"foodSort"},B={class:"name"},S=["src"];function Z(t,e,n,o,c,d){const l=C.Z,r=(0,s.up)("FoodList"),u=k.OK,m=I.mQ,v=x,g=i.ZL,p=a.ol;return(0,s.wg)(),(0,s.iD)("div",_,[(0,s.Wm)(l,{title:"店铺"}),(0,s._)("div",w,[W,(0,s._)("div",D,[(0,s._)("div",B,[(0,s.Uk)((0,y.zw)(t.title)+" ",1),(0,s._)("img",{src:t.img,alt:"",class:"store-img"},null,8,S)]),(0,s.Wm)(m,{color:"#ffc400"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.storeData,((t,e)=>((0,s.wg)(),(0,s.j4)(u,{key:e,title:t.name},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{index:e,foodData:t.data},null,8,["index","foodData"])])),_:2},1032,["title"])))),128))])),_:1})])]),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{icon:"chat-o",text:"客服"}),(0,s.Wm)(v,{icon:"cart-o",text:"购物车",badge:o.store.state.cartList.length,onClick:o.goCart},null,8,["badge","onClick"]),(0,s.Wm)(g,{type:"warning",text:"加入购物车",onClick:o.handleAddCart},null,8,["onClick"]),(0,s.Wm)(g,{type:"danger",text:"立即购买",onClick:o.goBuy},null,8,["onClick"])])),_:1})])}n(7658);var O=n(4870),j=n(6048);const[F,P]=(0,c["do"])("sidebar"),N=Symbol(F),E={modelValue:(0,l.SI)(0)};var V=(0,s.aZ)({name:F,props:E,emits:["change","update:modelValue"],setup(t,{emit:e,slots:n}){const{linkChildren:a}=(0,u.$E)(N),i=()=>+t.modelValue,o=t=>{t!==i()&&(e("update:modelValue",t),e("change",t))};return a({getActive:i,setActive:o}),()=>{var t;return(0,s.Wm)("div",{role:"tablist",class:P()},[null==(t=n.default)?void 0:t.call(n)])}}});const L=(0,o.n)(V);const[z,J]=(0,c["do"])("sidebar-item"),H=(0,d.l7)({},m.g2,{dot:Boolean,title:String,badge:l.Or,disabled:Boolean,badgeProps:Object});var K=(0,s.aZ)({name:z,props:H,emits:["click"],setup(t,{emit:e,slots:n}){const a=(0,m.yj)(),{parent:i,index:o}=(0,u.NB)(N);if(!i)return void 0;const c=()=>{t.disabled||(e("click",o.value),i.setActive(o.value),a())};return()=>{const{dot:e,badge:a,title:d,disabled:l}=t,r=o.value===i.getActive();return(0,s.Wm)("div",{role:"tab",class:J({select:r,disabled:l}),tabindex:l?void 0:0,"aria-selected":r,onClick:c},[(0,s.Wm)(g.Ct,(0,s.dG)({dot:e,class:J("text"),content:a},t.badgeProps),{default:()=>[n.title?n.title():d]})])}}});const q=(0,o.n)(K);const[G,U]=(0,c["do"])("tree-select"),Y={max:(0,l.SI)(1/0),items:(0,l.Ce)(),height:(0,l.SI)(300),selectedIcon:(0,l.SQ)("success"),mainActiveIndex:(0,l.SI)(0),activeId:{type:[Number,String,Array],default:0}};var Q=(0,s.aZ)({name:G,props:Y,emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(t,{emit:e,slots:n}){const a=e=>Array.isArray(t.activeId)?t.activeId.includes(e):t.activeId===e,i=n=>{const i=()=>{if(n.disabled)return;let a;if(Array.isArray(t.activeId)){a=t.activeId.slice();const e=a.indexOf(n.id);-1!==e?a.splice(e,1):a.length<+t.max&&a.push(n.id)}else a=n.id;e("update:activeId",a),e("clickItem",n)};return(0,s.Wm)("div",{key:n.id,class:["van-ellipsis",U("item",{active:a(n.id),disabled:n.disabled})],onClick:i},[n.text,a(n.id)&&(0,s.Wm)(v.JO,{name:t.selectedIcon,class:U("selected")},null)])},o=t=>{e("update:mainActiveIndex",t)},c=t=>e("clickNav",t),d=()=>{const e=t.items.map((t=>(0,s.Wm)(q,{dot:t.dot,badge:t.badge,class:[U("nav-item"),t.className],disabled:t.disabled,onClick:c},{title:()=>n["nav-text"]?n["nav-text"](t):t.text})));return(0,s.Wm)(L,{class:U("nav"),modelValue:t.mainActiveIndex,onChange:o},{default:()=>[e]})},l=()=>{if(n.content)return n.content();const e=t.items[+t.mainActiveIndex]||{};return e.children?e.children.map(i):void 0};return()=>(0,s.Wm)("div",{class:U(),style:{height:(0,j.Nn)(t.height)}},[d(),(0,s.Wm)("div",{class:U("content")},[l()])])}});const R=(0,o.n)(Q);var $=n(1206);const T={class:"food-list"},M=["v-else-if"];function X(t,e,n,a,i,o){const c=$.Z,d=R;return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",T,[0===n.index?((0,s.wg)(),(0,s.j4)(d,{key:0,"main-active-index":t.activeIndex,"onUpdate:mainActiveIndex":e[0]||(e[0]=e=>t.activeIndex=e),height:"88vw",items:t.items,onClickNav:a.navclick},{content:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.subItem,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"item-bg"},[(0,s.Wm)(c,{item:t,handAdd:a.handAdd,handlechange:a.handlechange},null,8,["item","handAdd","handlechange"])])))),128))])),_:1},8,["main-active-index","items","onClickNav"])):(0,s.kq)("",!0)]),(0,s._)("div",{"v-else-if":n.foodData.content},(0,y.zw)(n.foodData.content),9,M)],64)}var tt=n(598);n(3526),n(4165);const et={class:"content-item"},nt={class:"left"},at=["src"],it={class:"text"},ot={class:"title"},st={class:"price"};function ct(t,e,n,a,i,o){const c=v.JO,d=tt.vF;return(0,s.wg)(),(0,s.iD)("div",et,[(0,s._)("div",nt,[(0,s._)("img",{src:n.item.pic},null,8,at),(0,s._)("div",it,[(0,s._)("div",ot,(0,y.zw)(n.item.title),1),n.item.add?((0,s.wg)(),(0,s.j4)(c,{key:0,name:"add-o",onClick:e[0]||(e[0]=t=>n.handAdd(n.item.id))})):((0,s.wg)(),(0,s.j4)(d,{key:1,modelValue:n.item.num,"onUpdate:modelValue":e[1]||(e[1]=t=>n.item.num=t),onChange:n.handlechange,name:n.item.id},null,8,["modelValue","onChange","name"]))])]),(0,s._)("div",st,"￥"+(0,y.zw)(n.item.price),1)])}var dt={props:["item","handAdd","handlechange"]},lt=n(89);const rt=(0,lt.Z)(dt,[["render",ct],["__scopeId","data-v-50ce379d"]]);var ut=rt,mt={props:["index","foodData"],components:{FootListItem:ut,ListItem:$.Z},setup(t){let e=(0,O.qj)({activeIndex:0,items:[],subItem:[]});const n=()=>{let n=[];t.foodData?.items?.forEach(((t,a)=>{n.push({text:t.text}),e.activeIndex===a&&(e.subItem=t.children)})),e.items=n};n();const a=t=>{console.log(t),e.activeIndex=t,n()},i=t=>{e.subItem.forEach(((e,n)=>{e.id===t&&(e.add=!1,e.num+=1)}))},o=(t,n)=>{e.subItem.forEach((e=>{e.id===n.name&&(e.num=t)}))};return{...(0,O.BK)(e),navclick:a,handAdd:i,handlechange:o}}};const vt=(0,lt.Z)(mt,[["render",X],["__scopeId","data-v-5bdb78b7"]]);var gt=vt,pt=n(65),ft=n(2483),ht=n(9733),bt=n(6793),xt={components:{Header:C.Z,FoodList:gt},setup(){let t=(0,pt.oR)(),e=(0,ft.tv)(),n=(0,O.qj)({arr:[],title:"鱼拿酸菜鱼",img:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",storeData:[]});const a=()=>{(0,bt.O)().then((t=>{n.storeData=t}))};(0,s.bv)((()=>{a()}));const i=e=>{const a=t.state.cartList||[];n.storeData.forEach((t=>{t.data.items?.forEach((t=>{t.children.forEach(((t,n)=>{if(t.num>0){const n=t;"buy"===e?n.id!==t.id&&a.push(n):a.push(n)}}))}))})),0!==a.length?(t.commit("ADDCART",a),"buy"===e&&o()):(0,ht.CF)("请选择商品")},o=()=>{e.push("/cart")},c=()=>{i("buy")};return{...(0,O.BK)(n),handleAddCart:i,store:t,goCart:o,goBuy:c}}};const It=(0,lt.Z)(xt,[["render",Z],["__scopeId","data-v-3e2b519f"]]);var kt=It},5904:function(t,e,n){n.d(e,{ZL:function(){return f}});var a=n(1404),i=n(3396),o=n(610),s=n(2220),c=n(5291),d=n(253),l=n(3444),r=n(6014),u=n(9545);const[m,v]=(0,o["do"])("action-bar-button"),g=(0,s.l7)({},r.g2,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var p=(0,i.aZ)({name:m,props:g,setup(t,{slots:e}){const n=(0,r.yj)(),{parent:a,index:o}=(0,d.NB)(c.FO),s=(0,i.Fl)((()=>{if(a){const t=a.children[o.value-1];return!(t&&"isButton"in t)}})),m=(0,i.Fl)((()=>{if(a){const t=a.children[o.value+1];return!(t&&"isButton"in t)}}));return(0,l.F)({isButton:!0}),()=>{const{type:a,icon:o,text:c,color:d,loading:l,disabled:r}=t;return(0,i.Wm)(u.zx,{class:v([a,{last:m.value,first:s.value}]),size:"large",type:a,icon:o,color:d,loading:l,disabled:r,onClick:n},{default:()=>[e.default?e.default():c]})}}});const f=(0,a.n)(p)},5291:function(t,e,n){n.d(e,{FO:function(){return u},ZP:function(){return v}});var a=n(3396),i=n(4870),o=n(610),s=n(5323),c=n(253),d=n(4373);const[l,r]=(0,o["do"])("action-bar"),u=Symbol(l),m={placeholder:Boolean,safeAreaInsetBottom:s.J5};var v=(0,a.aZ)({name:l,props:m,setup(t,{slots:e}){const n=(0,i.iH)(),o=(0,d.J)(n,r),{linkChildren:s}=(0,c.$E)(u);s();const l=()=>{var i;return(0,a.Wm)("div",{ref:n,class:[r(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[null==(i=e.default)?void 0:i.call(e)])};return()=>t.placeholder?o(l):l()}})},2558:function(t,e,n){n.d(e,{ol:function(){return o}});var a=n(1404),i=n(5291);const o=(0,a.n)(i.ZP)}}]);
//# sourceMappingURL=71.e73a9c01.js.map